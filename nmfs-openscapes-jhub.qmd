---
title: Intro to JupyterHubs
---

The NOAA CoastWatch trainings provide optional access to [JupyterHub](https://jupyter.org/hub), 
a multi-user learning environment featuring Jupyter notebook servers, 
made possible by the support of the [NOAA NMFS OpenScapes](https://nmfs-openscapes.github.io/).


![NMFS OpenScapes](./images/nmfs-openscapes.png){width=300px}

::: {.callout-note icon=false}


## Goals

In this lab, you will get an overview of our JupyterHub

 * Log into the JupyterHub
 * Understand the JupyterHub Layout
 * Understand the directory structure
 * Open RStudio
 * Restart your JupyterHub server
 * Start/Stop your JupyterHub server

:::


## Log into the JupyterHub

Go to <https://nmfs-openscapes.2i2c.cloud/>. Click "Login to continue". 
You will be asked to log in with your GitHub Account, if you are not logged in already.

### Image type: Py-R CoastWatch

Next you select your image type. We have set up the CoastWatch image that currently includes 
Python, R, their dependent packages and CoastWatch Utilities. 

### Virtual Machine size

You'll see something similar to this that allows you to choose a large virtual machine if your project needs it. For the tutorials, you will only need the Small Virtual Machine. Please only choose the large machines if you run out of RAM as the larger machines cost us more.

![Machine Profiles](./images/jhub-servers.png){width=550px .img_border .lightbox}

### Start up

After we select our server type and click on start, JupyterHub will allocate our instance using Amazon Web Services (AWS). This may take several minutes. 

![Jupyterhub Spawning](./images/spawning.png){width=550px .img_border .lightbox}


## JupyterHub Layout

![NMFS OpenScapes JupyterHub Layout](./images/jhub-layout.png){width=550px .img_border .lightbox}

__Launcher Window__ : This window displays all installed software, such as RStudio or Python, allowing users to launch applications with a click.


## Files 

When you start your server, you will have access to your own virtual 
drive space shown in the __Files and Folder__  section from the JupyterHub Layout. No other users will be able to see or access your files. 
You can upload files to your virtual drive space and save files here. 
You can create folders to organize your files. You personal directory is `home/jovyan`. 
Everyone has the same home directory but your files are separate and cannot be seen by others.

## Open Python Notebook

Clicking on a Python notebook (*.ipynb) file in the __Files and Folders__ section will open the notebook in a new tab within the Launcher page.

![python notebook](./images/notebook.png){width=550px .img_border .lightbox}

## Open RStudio

When you are in the Jupyter Lab tab (note the Jupyter Logo), you will see a Launcher page. If you don't see this, go to File > New Launcher.

![Jupyterhub Launcher](./images/jhub-launcher.png){width=500px .img_border .lightbox}

* Open RStudio by clicking on the "RStudio" box in the Launcher tab:

![RStudio](./images/rstudio.png){width=550px .img_border .lightbox}

We will be mainly using RStudio in this course. 

## Load CoastWatch Tutorials from Github repository

You can download materials from GitHub repositories to your virtual 
machine by using `Git Clone` from the side navigation bar on the left side of 
JupyterHub.


![GitHub](./images/github.png){width=550px .img_border .lightbox}

Select __Clone a Repository__ and enter the following GitHub repository URL:

**https://github.com/coastwatch-training/CoastWatch-Tutorials**


![Clone Repo](./images/clone-repo.png){width=550px .img_border .lightbox}


## End your session

When you are finished working for the day it is important to log out of the JupyterHub.  When you keep a session active it uses up AWS resources (costs money) and keeps a series of virtual machines deployed.

::: {.callout-caution}

You log out from the Jupyter Lab tab not the RStudio tab.
:::

**From the Jupyter Lab tab**, do one of two things to stop the server:

* Log out File -> Log Out and click "Log Out"!
* or File -> Hub Control Panel -> Stop My Server

::: {.callout-tip}

Can't find the Jupyter Lab tab? Go to https://nmfs-openscapes.2i2c.cloud/
:::

## Restart your server

Sometimes the server will crash/stop. This can happen if too many people use a lot of memory all at once. If that happens, go to the Jupyter Lab tab and then File -> Hub Control Panel -> Stop My Server and then Start My Server. You shouldn't lose your work unless you were uploading a file.


### Will I lose all of my work?

Logging out will **NOT** cause any of your work to be lost or deleted. It simply shuts down some resources. It would be equivalent to turning off your desktop computer at the end of the day.

## Shared files


![Shared folder](./images/shared-folder.png){width=400px .img_border .lightbox}

In the file panel, you will see a folder called `shared`. These are read-only shared files that we have prepared for you. There are two main folders:

* `data` The folder with data files
* `2023-Hackbook` The full Git repository with the files for https://hackweek-itcoocean.github.io/2023-Hackbook

You will also see `shared-public`. This is a read-write folder for you to put files for everyone to see and use. You can create a team folder here for shared data and files.  Note, everyone can see and change these so be careful to communicate with your team so multiple people don't work on the same file at the same time. You can also create folders for each team member and agree not to change other team members files.

You will also see other folders of Python content for the Python users. We will have a separate introduction to Jupyter Notebooks.


## Python Notebook

Jupyter notebooks are a very common way to share Python code and tutorials. You can open a Jupyter Notebook by clicking on notebook file (.ipnb) from the folder on the left panel:

![Jupyterhub Launcher](./images/jhub-launcher.png)



## FAQ

**Why do we have the same home directory as /home/jovyan?** /home/jovyan is the default home directory for 'jupyter' based images/dockers. It is the historic home directory for Jupyter deployments. 

**Can other users see the files in my /home/jovyan folder?** No, other users can not see your credentials.


## Resources

* [Coastwatch Tutorials on GitHub](https://github.com/coastwatch-training/CoastWatch-Tutorials?tab=readme-ov-file#readme)
